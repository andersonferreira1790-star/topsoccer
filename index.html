<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- COMANDO ANTI-CACHE -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <meta name="theme-color" content="#050505">

    <title>Top Soccer | Elite Performance</title>
    
    <!-- Link para o CSS Externo -->
    <link rel="stylesheet" href="styles.css?v=20260207001">
    
    <!-- Bibliotecas Externas -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>

    <!-- NAV -->
    <nav class="top-nav px-8">
        <div class="flex justify-between items-center w-full max-w-6xl mx-auto">
            <h1 class="font-impact text-2xl tracking-tighter">TOP <span class="text-[#FF4500]">SOCCER</span></h1>
            <div id="userStatusBtn" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-xs cursor-pointer" onclick="checkAuthAndOpen()">üë§</div>
        </div>
    </nav>

    <!-- SLIDER -->
    <section class="hero-slider">
        <div class="slide active"><img src="https://images.unsplash.com/photo-1574629810360-7efbbe195018?q=80&w=1500" alt="Arena"></div>
        <div class="slide"><img src="https://images.unsplash.com/photo-1510566337590-2fc1f21d0faa?q=80&w=1500" alt="Jogo"></div>
        <div class="hero-overlay">
            <span class="text-[10px] font-black tracking-[0.4em] uppercase text-[#FF4500] mb-2">Performance</span>
            <h2 class="font-impact text-6xl leading-[0.9]">DOMINE A<br>QUADRA</h2>
        </div>
    </section>

    <!-- CONTE√öDO -->
    <main class="cards-container p-6 max-w-md mx-auto space-y-8 pb-32">
        <!-- CARD ARENA -->
        <div class="glass-card" onclick="abrirCalendario('Arena Principal')">
            <div class="flex justify-between items-center">
                <span class="text-[10px] font-black tracking-widest uppercase text-gray-500">Unidade Bebedouro</span>
                <div class="w-2 h-2 bg-[#FF4500] rounded-full animate-pulse"></div>
            </div>
            <h2 class="font-impact text-4xl italic mt-6 mb-2">ARENA<br>PLAY</h2>
            
            <div class="chip-grid">
                <div class="chip selected" onclick="selecionarQuadra('Quadra 1', this); event.stopPropagation();">Quadra 1</div>
                <div class="chip" onclick="selecionarQuadra('Quadra 2', this); event.stopPropagation();">Quadra 2</div>
                <div class="chip" onclick="selecionarQuadra('Quadra 3', this); event.stopPropagation();">Quadra 3</div>
                <div class="chip col-span-2" onclick="selecionarQuadra('Campo Oficial', this); event.stopPropagation();">Campo Oficial</div>
                <div class="chip" onclick="selecionarQuadra('Mini Campo', this); event.stopPropagation();">Mini Campo</div>
            </div>
            
            <button onclick="abrirCalendario('Arena')" class="w-full bg-[#FF4500] text-black font-black py-5 rounded-2xl mt-8 uppercase text-xs tracking-[0.2em]">
                Ver Disponibilidade
            </button>
        </div>

        <!-- CARD LAZER -->
        <div class="glass-card" style="border-color: rgba(57, 255, 20, 0.2);" onclick="abrirCalendario('Ed√≠cula VIP')">
            <h2 class="font-impact text-4xl italic mt-2 mb-2 text-[#39FF14]">ED√çCULA<br>VIP</h2>
            <p class="text-xs text-gray-400 font-bold uppercase tracking-widest">Piscina & Churrasqueira</p>
            <button class="w-full border-2 border-[#39FF14] text-[#39FF14] font-black py-5 rounded-2xl mt-8 uppercase text-xs tracking-[0.2em]">
                Consultar Data
            </button>
        </div>
    </main>

    <!-- CALEND√ÅRIO VITRINE -->
    <div class="modal-overlay" id="calendarModal">
        <div class="calendar-sheet">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <span class="text-[10px] font-bold text-gray-500 uppercase tracking-widest">Disponibilidade</span>
                    <h2 class="font-impact text-2xl italic text-white" id="modalTitle">ARENA</h2>
                    <span id="quadraSelecionadaDisplay" class="text-xs text-[#FF4500] font-bold">Quadra 1</span>
                </div>
                <button onclick="fecharModal('calendarModal')" class="bg-white/10 w-10 h-10 rounded-full flex items-center justify-center text-xl">‚úï</button>
            </div>

            <!-- Dias -->
            <div class="days-wrapper" id="daysContainer"></div>
            <div class="h-[1px] w-full bg-white/10 mb-6"></div>

            <!-- Legenda de Cores -->
            <div style="display: flex; gap: 15px; margin-bottom: 15px; font-size: 10px; flex-wrap: wrap;">
                <div style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 12px; height: 12px; background: rgba(57, 255, 20, 0.3); border: 1px solid #39FF14; border-radius: 3px;"></div>
                    <span style="color: #888;">Dispon√≠vel</span>
                </div>
                <div style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 12px; height: 12px; background: rgba(255, 200, 0, 0.3); border: 1px solid #FFC800; border-radius: 3px;"></div>
                    <span style="color: #888;">Com Interesse</span>
                </div>
                <div style="display: flex; align-items: center; gap: 5px;">
                    <div style="width: 12px; height: 12px; background: rgba(255, 0, 0, 0.3); border: 1px solid #ff5555; border-radius: 3px;"></div>
                    <span style="color: #888;">Reservado</span>
                </div>
            </div>

            <h3 class="text-xs font-black uppercase text-gray-400 mb-3 tracking-widest">Hor√°rios Livres (07h - 23h)</h3>
            
            <div class="time-grid" id="timeContainer"></div>

            <!-- Bot√£o Chamada para A√ß√£o -->
            <div id="actionArea" class="mt-8">
                <button id="btnConfirmar" class="w-full bg-[#333] hover:bg-[#FF4500] hover:text-black text-gray-400 font-black py-5 rounded-2xl uppercase text-xs tracking-[0.2em] transition-all">
                    üëÜ Clique em um hor√°rio acima
                </button>
            </div>
        </div>
    </div>

    <!-- MODAL DE REGRAS DE AGENDAMENTO -->
    <div class="modal-overlay" id="regrasModal">
        <div class="auth-card" style="max-width: 500px;">
            <button onclick="fecharModal('regrasModal')" class="absolute top-6 right-6 text-white/50 hover:text-white text-2xl">√ó</button>
            
            <div style="text-align: center; margin-bottom: 25px;">
                <div style="width: 80px; height: 80px; margin: 0 auto 20px; background: linear-gradient(135deg, rgba(255,200,0,0.3), rgba(255,200,0,0.1)); border: 2px solid #FFC800; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px;">
                    ‚ö†Ô∏è
                </div>
                <h2 class="font-impact text-2xl text-[#FFC800] uppercase">Importante!</h2>
                <p style="color: #888; font-size: 13px; margin-top: 10px;">Leia atentamente antes de continuar</p>
            </div>

            <div id="regrasInfo" style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 25px; margin-bottom: 25px;">
                <h3 style="color: #FF4500; font-weight: 900; font-size: 14px; margin-bottom: 15px; text-transform: uppercase;">üìç Regras de Agendamento</h3>
                
                <div style="color: #ccc; font-size: 13px; line-height: 1.8; margin-bottom: 20px;">
                    <p style="margin-bottom: 15px;">
                        <strong style="color: white;">‚Ä¢ Sistema de Interesse:</strong><br>
                        Ao clicar em um hor√°rio, voc√™ registra seu <strong style="color: #FFC800;">INTERESSE</strong>. O hor√°rio ficar√° <strong style="color: #FFC800;">AMARELO</strong> e vis√≠vel para outros usu√°rios.
                    </p>
                    
                    <p style="margin-bottom: 15px;">
                        <strong style="color: white;">‚Ä¢ Quem Pagar Primeiro Leva:</strong><br>
                        V√°rios usu√°rios podem demonstrar interesse no mesmo hor√°rio. <strong style="color: #39FF14;">Quem pagar 30% do valor primeiro garante a reserva!</strong>
                    </p>
                    
                    <p style="margin-bottom: 15px;">
                        <strong style="color: white;">‚Ä¢ Pagamento Obrigat√≥rio:</strong><br>
                        √â necess√°rio pagar <strong style="color: #FF4500;">30% do valor total</strong> para confirmar. Ap√≥s o pagamento, o hor√°rio fica <strong style="color: #ff5555;">VERMELHO (bloqueado)</strong> s√≥ para voc√™.
                    </p>
                    
                    <p>
                        <strong style="color: white;">‚Ä¢ Pagamento Restante:</strong><br>
                        Os 70% restantes devem ser pagos <strong>at√© antes do hor√°rio agendado</strong>.
                    </p>
                </div>
                
                <div style="background: rgba(255,69,0,0.1); border: 1px dashed #FF4500; border-radius: 12px; padding: 15px;">
                    <p style="color: #FF4500; font-weight: 700; font-size: 12px; text-align: center;">
                        üõë N√ÉO PAGUE, N√ÉO RESERVA! Simples assim.
                    </p>
                </div>
            </div>

            <div style="display: flex; align-items: center; gap: 12px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; margin-bottom: 25px; cursor: pointer;" onclick="toggleCheckboxRegras()">
                <input type="checkbox" id="checkboxRegras" style="width: 22px; height: 22px; cursor: pointer;" onchange="habilitarBotaoRegras()">
                <label for="checkboxRegras" style="color: white; font-size: 13px; font-weight: 700; cursor: pointer; user-select: none;">
                    ‚úÖ Sim, eu compreendo e aceito as regras de agendamento
                </label>
            </div>

            <button id="btnContinuarRegras" disabled onclick="confirmarRegrasEContinuar()" style="width: 100%; background: #333; color: #666; font-weight: 900; padding: 18px; border-radius: 15px; text-transform: uppercase; font-size: 12px; letter-spacing: 2px; border: none; cursor: not-allowed; transition: 0.3s;">
                Continuar para Pagamento
            </button>
        </div>
    </div>

    <!-- AUTH MODAL -->
    <div class="modal-overlay" id="authModal">
        <div class="auth-card">
            <button onclick="fecharModal('authModal')" class="absolute top-6 right-6 text-white/50 hover:text-white">‚úï</button>
            <div id="authMsg" class="msg-box"></div>
            
            <div id="loginView">
                <h2 class="font-impact text-3xl mb-2 text-center text-white">LOGIN</h2>
                <input type="email" id="loginEmail" placeholder="Email" class="input-dark">
                <input type="password" id="loginPassword" placeholder="Senha" class="input-dark">
                <button onclick="fazerLogin()" class="w-full bg-[#FF4500] text-black font-black py-4 rounded-xl mt-4 uppercase text-xs tracking-widest">Entrar</button>
                
                <div class="divider">ou</div>
                
                <button id="btn-google" class="google-btn">
                    <img src="https://www.google.com/favicon.ico" alt="Google">
                    Entrar com Google
                </button>
                
                <p class="text-center mt-6 text-xs text-gray-500 cursor-pointer" onclick="toggleAuth('cadastro')">Criar conta</p>
            </div>

            <div id="cadastroView" class="hidden">
                <h2 class="font-impact text-3xl mb-2 text-center text-[#39FF14]">CADASTRO</h2>
                <input type="text" id="regNome" placeholder="Nome" class="input-dark">
                <input type="tel" id="regWhats" placeholder="WhatsApp" class="input-dark">
                <input type="email" id="regEmail" placeholder="Email" class="input-dark">
                <input type="password" id="regPassword" placeholder="Senha" class="input-dark">
                <button onclick="criarConta()" class="w-full border-2 border-[#39FF14] text-[#39FF14] font-black py-4 rounded-xl mt-4 uppercase text-xs tracking-widest">Criar</button>
                <p class="text-center mt-6 text-xs text-gray-500 cursor-pointer" onclick="toggleAuth('login')">Voltar</p>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <div class="footer-logo"><span>TOP</span><span>SOCCER</span></div>
                <p>A melhor plataforma de agendamento de quadras de futebol.</p>
            </div>
            <div class="footer-section">
                <h3>Navega√ß√£o</h3>
                <div class="footer-links">
                    <a href="#" onclick="abrirCalendario('Arena'); return false;">üìå Agendar Arena</a>
                    <a href="#" onclick="abrirCalendario('Ed√≠cula VIP'); return false;">üèä Ed√≠cula VIP</a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Contato</h3>
                <p>‚òéÔ∏è (17) 3334-XXXX<br>üì± (17) 99999-9999</p>
            </div>
        </div>
        <div class="footer-divider"></div>
        <div class="footer-bottom">
            <p>¬© 2025 Top Soccer - Todos os direitos reservados.</p>
        </div>
    </footer>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts no final -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js?v=20260220FIX2"></script>

    <!-- Estilos Internos para Modais (Opcional se mover pro CSS) -->
    <style>
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); backdrop-filter: blur(15px); z-index: 2000; display: none; align-items: flex-end; justify-content: center; }
        .modal-overlay.active { display: flex; }
        .auth-card { width: 90%; max-width: 400px; background: #111; border-radius: 30px; padding: 40px; border: 1px solid rgba(255,69,0,0.2); position: relative; }
        .input-dark { width: 100%; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 12px; border-radius: 12px; margin: 10px 0; outline: none; font-size: 12px; }
        .google-btn { width: 100%; background: white; color: #333; font-weight: 700; padding: 12px; border-radius: 12px; margin-top: 15px; display: flex; align-items: center; justify-content: center; gap: 10px; border: none; cursor: pointer; transition: 0.3s; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
        .google-btn:hover { background: #f5f5f5; transform: scale(1.02); }
        .google-btn img { width: 20px; height: 20px; }
        .divider { display: flex; align-items: center; gap: 10px; margin: 20px 0; color: #666; font-size: 11px; text-transform: uppercase; }
        .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: rgba(255,255,255,0.1); }
        .msg-box { display: none; padding: 12px; margin-bottom: 15px; border-radius: 8px; font-size: 12px; font-weight: bold; text-align: center; }
        
        /* Bot√£o ativo no modal de regras */
        #btnContinuarRegras:not(:disabled) {
            background: linear-gradient(135deg, #FF4500, #ff6600) !important;
            color: black !important;
            cursor: pointer !important;
            box-shadow: 0 0 20px rgba(255,69,0,0.4);
        }
        #btnContinuarRegras:not(:disabled):hover {
            transform: scale(1.02);
            box-shadow: 0 0 30px rgba(255,69,0,0.6);
        }
        
        /* Anima√ß√£o pulse para avisos */
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.9; transform: scale(1.02); }
        }
        .msg-error { background: rgba(255,0,0,0.2); color: #ff5555; border: 1px solid #ff5555; }
        .msg-success { background: rgba(0,255,0,0.2); color: #55ff55; border: 1px solid #55ff55; }

        /* TOAST NOTIFICATION */
        .toast-container { position: fixed; top: 20px; right: 20px; z-index: 99999; display: flex; flex-direction: column; gap: 10px; }
        .toast { padding: 14px 20px; border-radius: 12px; color: white; font-size: 13px; font-weight: 700; box-shadow: 0 10px 40px rgba(0,0,0,0.5); animation: toastIn 0.3s ease, toastOut 0.3s ease forwards; animation-delay: 0s, 3s; max-width: 350px; backdrop-filter: blur(10px); }
        .toast-success { background: rgba(57,255,20,0.2); border: 1px solid #39FF14; }
        .toast-error { background: rgba(255,0,64,0.2); border: 1px solid #FF0040; }
        .toast-info { background: rgba(255,69,0,0.2); border: 1px solid #FF4500; }
        .toast-warn { background: rgba(255,200,0,0.2); border: 1px solid #FFC800; }
        @keyframes toastIn { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes toastOut { from { opacity: 1; } to { opacity: 0; transform: translateY(-20px); } }
        .hidden { display: none !important; }
        .footer { background: var(--card-bg); border-top: 1px solid rgba(255,255,255,0.05); padding: 40px 20px 20px; margin-top: 60px; }
        .footer-container { max-width: 500px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; margin-bottom: 30px; }
        .footer-section { text-align: center; }
        .footer-logo { font-family: 'Archivo Black'; font-size: 18px; margin-bottom: 10px; }
        .footer-logo span { margin: 0 5px; color: var(--arena-color); }
        .footer-section h3 { font-size: 12px; font-weight: 900; text-transform: uppercase; margin-bottom: 15px; color: #888; }
        .footer-section p { font-size: 11px; line-height: 1.8; color: #666; }
        .footer-links { display: flex; flex-direction: column; gap: 10px; }
        .footer-links a { font-size: 11px; color: var(--arena-color); text-decoration: none; transition: 0.3s; }
        .footer-links a:hover { color: white; }
        .footer-divider { height: 1px; background: rgba(255,255,255,0.05); margin: 30px 0; }
        .footer-bottom { text-align: center; font-size: 10px; color: #444; }
    </style>

    <script>
        // Inicializar
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof inicializarSupabase === 'function') { inicializarSupabase(); }
            if (typeof renderDias === 'function') { renderDias(); }
        });
    </script>
</body>
</html>
